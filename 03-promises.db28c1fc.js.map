{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAO,CACXC,KAAMC,SAASC,cAAc,SAC7BC,MAAOF,SAASG,iBAAiB,SACjCC,aAAcJ,SAASC,cAAc,qBACrCI,YAAaL,SAASC,cAAc,oBACpCK,cAAeN,SAASC,cAAc,sBACtCM,UAAWP,SAASC,cAAc,gBAKpCH,EAAKC,KAAKS,MAAMC,QAAU,OAC1BX,EAAKC,KAAKS,MAAME,eAAiB,QACjCZ,EAAKC,KAAKS,MAAMG,WAAa,WAC7Bb,EAAKS,UAAUC,MAAMI,WAAa,OAClCd,EAAKS,UAAUC,MAAMK,OAAS,OAC9Bf,EAAKI,MAAMY,SAASZ,IAChBA,EAAMM,MAAMC,QAAU,OACtBP,EAAMM,MAAMO,cAAgB,SAC5Bb,EAAMM,MAAME,eAAiB,QAC7BR,EAAMM,MAAMQ,UAAY,QACxBd,EAAMM,MAAMI,WAAa,UAqB7B,SAASK,EAAcC,EAAUC,GACf,IAAIC,SAAQ,CAACC,EAASC,KACpC,MAAMC,EAAgBC,KAAKC,SAAW,GAEtCC,YAAW,KACLH,EACFF,EAAQ,CAACH,SAAU,GAAGA,IAAYC,MAAO,GAAGA,QAE5CG,EAAO,CAACJ,SAAU,GAAGA,IAAYC,MAAO,GAAGA,UAE5CA,MAIFQ,MAAKC,IACJC,QAAQC,IAAIF,GACZG,EAAAnC,GAASoC,OAAOC,QAAQ,uBAAqBf,QAAiBC,UAE/De,OAAMC,IACLN,QAAQC,IAAIK,GACZJ,EAAAnC,GAASoC,OAAOI,QAAQ,sBAAoBlB,QAAeC,UAIjErB,EAAKC,KAAKsC,iBAAiB,UAxCLC,IACpBA,EAAIC,iBACJ,IAAIpB,EAAQqB,OAAOF,EAAIG,cAActB,MAAMuB,OACvCC,EAAOH,OAAOF,EAAIG,cAAcE,KAAKD,OACrCE,EAASJ,OAAOF,EAAIG,cAAcG,OAAOF,OAC7Cb,QAAQC,IAAI,QAASX,GACrBU,QAAQC,IAAI,OAAQa,GACpBd,QAAQC,IAAI,SAAUc,GAEpB,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAAQC,IAC1B5B,EAAc4B,EAAI,EAAG1B,GACrBwB,EAAOH,OAAOF,EAAIG,cAAcE,KAAKD,OACrCvB,GAASwB","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst refs = {\n  form: document.querySelector('.form'),\n  input: document.querySelectorAll('label'),\n  fieldOfDelay: document.querySelector('input[name=delay]'),\n  fieldOfStep: document.querySelector('input[name=step]'),\n  fieldOfAmount: document.querySelector('input[name=amount]'),\n  submitBtn: document.querySelector('#submit-btn'),\n}\n\n//------------Styles-------------//\n\nrefs.form.style.display = 'flex';\nrefs.form.style.justifyContent = 'start';\nrefs.form.style.alignItems = 'flex-end';\nrefs.submitBtn.style.marginLeft = '10px';\nrefs.submitBtn.style.height = '25px';\nrefs.input.forEach((input) => {\n    input.style.display = 'flex';\n    input.style.flexDirection = 'column';\n    input.style.justifyContent = 'start';\n    input.style.textAlign = 'start';\n    input.style.marginLeft = '10px';\n});\n\n//-----------Program-------------//\n\nconst handleSubmit = (evt) => {\n  evt.preventDefault();\n  let delay = Number(evt.currentTarget.delay.value),\n      step = Number(evt.currentTarget.step.value),\n      amount = Number(evt.currentTarget.amount.value);\n  console.log('delay', delay);\n  console.log('step', step);\n  console.log('amount', amount);\n\n    for (let i = 0; i < amount; i++) {\n      createPromise(i + 1, delay);\n      step = Number(evt.currentTarget.step.value);\n      delay += step;\n    };\n};\n\nfunction createPromise(position, delay) {\n  const promise = new Promise((resolve, reject) => { \n    const shouldResolve = Math.random() > 0.3;\n\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve({position: `${position}`, delay: `${delay}ms`});\n      } else {\n        reject({position: `${position}`, delay: `${delay}ms`});\n      };\n    }, delay);\n  });\n\n  promise\n    .then(result => {\n      console.log(result);\n      Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n    })\n    .catch(error => {\n      console.log(error);\n      Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n    });\n};\n\nrefs.form.addEventListener(\"submit\", handleSubmit);"],"names":["$eWCmQ","parcelRequire","$47d4ff9957288465$var$refs","form","document","querySelector","input","querySelectorAll","fieldOfDelay","fieldOfStep","fieldOfAmount","submitBtn","style","display","justifyContent","alignItems","marginLeft","height","forEach","flexDirection","textAlign","$47d4ff9957288465$var$createPromise","position","delay","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","then","result","console","log","$parcel$interopDefault","Notify","success","catch","error","failure","addEventListener","evt","preventDefault","Number","currentTarget","value","step","amount","i"],"version":3,"file":"03-promises.db28c1fc.js.map"}