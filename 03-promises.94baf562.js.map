{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAO,CACXC,KAAMC,SAASC,cAAc,SAC7BC,MAAOF,SAASG,iBAAiB,SACjCC,aAAcJ,SAASC,cAAc,qBACrCI,YAAaL,SAASC,cAAc,oBACpCK,cAAeN,SAASC,cAAc,sBACtCM,UAAWP,SAASC,cAAc,gBAKpCH,EAAKC,KAAKS,MAAMC,QAAU,OAC1BX,EAAKC,KAAKS,MAAME,eAAiB,QACjCZ,EAAKC,KAAKS,MAAMG,WAAa,WAC7Bb,EAAKS,UAAUC,MAAMI,WAAa,OAClCd,EAAKS,UAAUC,MAAMK,OAAS,OAC9Bf,EAAKI,MAAMY,SAAQ,SAACZ,GAChBA,EAAMM,MAAMC,QAAU,OACtBP,EAAMM,MAAMO,cAAgB,SAC5Bb,EAAMM,MAAME,eAAiB,QAC7BR,EAAMM,MAAMQ,UAAY,QACxBd,EAAMM,MAAMI,WAAa,UAK7B,IAAIK,EAAQ,EACVC,EAAO,EACPC,EAAS,EAEX,SAASC,IACPH,EAAQI,SAASvB,EAAKM,aAAakB,OACnCJ,EAAOG,SAASvB,EAAKO,YAAYiB,OACjCH,EAASE,SAASvB,EAAKQ,cAAcgB,OAIvC,WACE,GAAIL,EAAQ,GAAKE,GAAU,EAEzB,YADAI,EAAA3B,GAAS4B,OAAOC,QAAQ,wCAK1B,GAFAC,QAAQC,IAAI,QAASV,GACrBS,QAAQC,IAAI,gBAAiBT,EAAOC,GAChCF,GAASC,EAAOC,EAElB,YADAI,EAAA3B,GAAS4B,OAAOC,QAAQ,yBAM5B,WAGE,IAFA,IAAIG,EAAeX,EAEVY,EAAI,EAAGA,EAAIV,EAAQU,IAC1BC,EAAcD,EAAI,EAAGD,GACrBA,GAAgBV,EARlBa,GAdAC,GA0BF,SAASF,EAAcG,EAAUC,GAC/B,IAAMC,EAAU,IAAIC,SAAQ,SAACC,EAAQC,GACnC,IAAMC,EAAgBC,KAAKC,SAAW,GAEtCC,YAAW,WACLH,GAEFF,EAAO,CAACJ,SAAU,GAAYU,OAATV,GAAYW,MAAO,GAASD,OAANT,EAAM,QACjDX,EAAA3B,GAAS4B,OAAOqB,QAAQ,uBAAwCF,OAAfV,EAAS,QAAYU,OAANT,EAAM,SAItEI,EAAO,CAACL,SAAU,GAAYU,OAATV,GAAYW,MAAO,GAASD,OAANT,EAAM,QACjDX,EAAA3B,GAAS4B,OAAOC,QAAQ,sBAAqCkB,OAAfV,EAAS,QAAYU,OAANT,EAAM,UAGxEA,MAGDC,EAAQW,MAAK,SAAAC,GACXrB,QAAQC,IAAIoB,MAEdZ,EAAQa,OAAO,SAAAC,GACbvB,QAAQC,IAAIsB,MAKhBnD,EAAKC,KAAKmD,iBAAiB,UAAU,SAACC,GACpCA,EAAMC,iBACNhC,IACAM,QAAQC,IAAI,Y","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst refs = {\n  form: document.querySelector('.form'),\n  input: document.querySelectorAll('label'),\n  fieldOfDelay: document.querySelector('input[name=delay]'),\n  fieldOfStep: document.querySelector('input[name=step]'),\n  fieldOfAmount: document.querySelector('input[name=amount]'),\n  submitBtn: document.querySelector('#submit-btn'),\n}\n\n//------------Styles-------------//\n\nrefs.form.style.display = 'flex';\nrefs.form.style.justifyContent = 'start';\nrefs.form.style.alignItems = 'flex-end';\nrefs.submitBtn.style.marginLeft = '10px';\nrefs.submitBtn.style.height = '25px';\nrefs.input.forEach((input) => {\n    input.style.display = 'flex';\n    input.style.flexDirection = 'column';\n    input.style.justifyContent = 'start';\n    input.style.textAlign = 'start';\n    input.style.marginLeft = '10px';\n});\n\n//-----------Program-------------//\n\nlet delay = 0,\n  step = 0,\n  amount = 0;\n\nfunction getInputData() {  \n  delay = parseInt(refs.fieldOfDelay.value);\n  step = parseInt(refs.fieldOfStep.value);\n  amount = parseInt(refs.fieldOfAmount.value);\n  checkInputData();\n}\n\nfunction checkInputData() { \n  if (delay < 0 || amount <= 0) {\n    Notiflix.Notify.failure(\"Delay and amount cannot be negative!\");\n    return;\n  };\n  console.log('delay', delay);\n  console.log('step * amount', step * amount);\n  if (delay < -step * amount) {\n    Notiflix.Notify.failure(\"Delay goes negative!\");\n    return;\n  };\n  initPromises();\n};\n\nfunction initPromises() { \n  let currentDelay = delay;\n\n  for (let i = 0; i < amount; i++) { \n    createPromise(i + 1, currentDelay)\n    currentDelay += step;\n  };\n};\n\nfunction createPromise(position, delay) {\n  const promise = new Promise((resolv, reject) => { \n    const shouldResolve = Math.random() > 0.3;\n\n    setTimeout(() => {\n      if (shouldResolve) {\n        // Fulfill\n        resolv({position: `${position}`, delay: `${delay}ms`});\n        Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n\n      } else {\n        // Reject\n        reject({position: `${position}`, delay: `${delay}ms`});\n        Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n      \n      };\n}, delay);\n  });\n  \n  promise.then(result => {\n    console.log(result);\n  });\n  promise.catch (error => {\n    console.log(error);\n  });\n  \n};\n\nrefs.form.addEventListener(\"submit\", (event) => {\n  event.preventDefault();\n  getInputData();\n  console.log(\"event\");\n});\n"],"names":["$iU1Pc","parcelRequire","$ce04d3a99e08e73b$var$refs","form","document","querySelector","input","querySelectorAll","fieldOfDelay","fieldOfStep","fieldOfAmount","submitBtn","style","display","justifyContent","alignItems","marginLeft","height","forEach","flexDirection","textAlign","$ce04d3a99e08e73b$var$delay","$ce04d3a99e08e73b$var$step","$ce04d3a99e08e73b$var$amount","$ce04d3a99e08e73b$var$getInputData","parseInt","value","$parcel$interopDefault","Notify","failure","console","log","currentDelay","i","$ce04d3a99e08e73b$var$createPromise","$ce04d3a99e08e73b$var$initPromises","$ce04d3a99e08e73b$var$checkInputData","position","delay1","promise","Promise","resolv","reject","shouldResolve","Math","random","setTimeout","concat","delay","success","then","result","catch","error","addEventListener","event","preventDefault"],"version":3,"file":"03-promises.94baf562.js.map"}