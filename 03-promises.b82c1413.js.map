{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAO,CACXC,KAAMC,SAASC,cAAc,SAC7BC,MAAOF,SAASG,iBAAiB,SACjCC,aAAcJ,SAASC,cAAc,qBACrCI,YAAaL,SAASC,cAAc,oBACpCK,cAAeN,SAASC,cAAc,sBACtCM,UAAWP,SAASC,cAAc,gBAKpCH,EAAKC,KAAKS,MAAMC,QAAU,OAC1BX,EAAKC,KAAKS,MAAME,eAAiB,QACjCZ,EAAKC,KAAKS,MAAMG,WAAa,WAC7Bb,EAAKS,UAAUC,MAAMI,WAAa,OAClCd,EAAKS,UAAUC,MAAMK,OAAS,OAC9Bf,EAAKI,MAAMY,SAAQ,SAACZ,GAChBA,EAAMM,MAAMC,QAAU,OACtBP,EAAMM,MAAMO,cAAgB,SAC5Bb,EAAMM,MAAME,eAAiB,QAC7BR,EAAMM,MAAMQ,UAAY,QACxBd,EAAMM,MAAMI,WAAa,UAwB7B,SAASK,EAAcC,EAAUC,GACf,IAAIC,SAAQ,SAACC,EAASC,GACpC,IAAMC,EAAgBC,KAAKC,SAAW,GAEtCC,YAAW,WACLH,EACFF,EAAQ,CAACH,SAAU,GAAYS,OAATT,GAAYC,MAAO,GAASQ,OAANR,EAAM,QAElDG,EAAO,CAACJ,SAAU,GAAYS,OAATT,GAAYC,MAAO,GAASQ,OAANR,EAAM,UAElDA,MAIFS,MAAK,SAAAC,GACJC,QAAQC,IAAIF,GACZG,EAAApC,GAASqC,OAAOC,QAAQ,uBAAwCP,OAAfT,EAAS,QAAYS,OAANR,EAAM,UAEvEgB,OAAM,SAAAC,GACLN,QAAQC,IAAIK,GACZJ,EAAApC,GAASqC,OAAOI,QAAQ,sBAAqCV,OAAfT,EAAS,QAAYS,OAANR,EAAM,UAIzErB,EAAKC,KAAKuC,iBAAiB,UA3CN,SAACC,GACpBA,EAAIC,iBACJ,IAAIrB,EAAQsB,OAAOF,EAAIG,cAAcvB,MAAMwB,OACvCC,EAAOH,OAAOF,EAAIG,cAAcE,KAAKD,OACrCE,EAASJ,OAAOF,EAAIG,cAAcG,OAAOF,OAG7Cb,QAAQC,IAAI,QAASZ,GACrBW,QAAQC,IAAI,OAAQa,GACpBd,QAAQC,IAAI,SAAUc,GAEpB,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAAQC,IAC1B7B,EAAc6B,EAAI,EAAG3B,GACrByB,EAAOH,OAAOF,EAAIG,cAAcE,KAAKD,OACrCb,QAAQC,IAAI,OAAQa,GACpBzB,GAASyB,K","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst refs = {\n  form: document.querySelector('.form'),\n  input: document.querySelectorAll('label'),\n  fieldOfDelay: document.querySelector('input[name=delay]'),\n  fieldOfStep: document.querySelector('input[name=step]'),\n  fieldOfAmount: document.querySelector('input[name=amount]'),\n  submitBtn: document.querySelector('#submit-btn'),\n}\n\n//------------Styles-------------//\n\nrefs.form.style.display = 'flex';\nrefs.form.style.justifyContent = 'start';\nrefs.form.style.alignItems = 'flex-end';\nrefs.submitBtn.style.marginLeft = '10px';\nrefs.submitBtn.style.height = '25px';\nrefs.input.forEach((input) => {\n    input.style.display = 'flex';\n    input.style.flexDirection = 'column';\n    input.style.justifyContent = 'start';\n    input.style.textAlign = 'start';\n    input.style.marginLeft = '10px';\n});\n\n//-----------Program-------------//\n\nconst handleSubmit = (evt) => {\n  evt.preventDefault();\n  let delay = Number(evt.currentTarget.delay.value),\n      step = Number(evt.currentTarget.step.value),\n      amount = Number(evt.currentTarget.amount.value);\n      // step = parseInt(refs.fieldOfStep.value),\n      // amount = parseInt(refs.fieldOfAmount.value);\n  console.log('delay', delay);\n  console.log('step', step);\n  console.log('amount', amount);\n\n    for (let i = 0; i < amount; i++) {\n      createPromise(i + 1, delay);\n      step = Number(evt.currentTarget.step.value);\n      console.log('step', step);\n      delay += step;\n    };\n};\n\nfunction createPromise(position, delay) {\n  const promise = new Promise((resolve, reject) => { \n    const shouldResolve = Math.random() > 0.3;\n\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve({position: `${position}`, delay: `${delay}ms`});\n      } else {\n        reject({position: `${position}`, delay: `${delay}ms`});\n      };\n    }, delay);\n  });\n\n  promise\n    .then(result => {\n      console.log(result);\n      Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n    })\n    .catch(error => {\n      console.log(error);\n      Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n    });\n};\n\nrefs.form.addEventListener(\"submit\", handleSubmit);"],"names":["$iU1Pc","parcelRequire","$ce04d3a99e08e73b$var$refs","form","document","querySelector","input","querySelectorAll","fieldOfDelay","fieldOfStep","fieldOfAmount","submitBtn","style","display","justifyContent","alignItems","marginLeft","height","forEach","flexDirection","textAlign","$ce04d3a99e08e73b$var$createPromise","position","delay","Promise","resolve","reject","shouldResolve","Math","random","setTimeout","concat","then","result","console","log","$parcel$interopDefault","Notify","success","catch","error","failure","addEventListener","evt","preventDefault","Number","currentTarget","value","step","amount","i"],"version":3,"file":"03-promises.b82c1413.js.map"}